<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <title>Dashboard</title>
</head>

<body>
    <!-- header starts from here -->
    <div class="db-header">
        <div class="log-div">
            <!-- <img src="/public/images/pulse-logo.png" alt="Pulse-logo"> -->
        </div>
        <div class="user-div">
            <h4>M Awais</h4>
            <i class="fa-solid fa-user"></i>
        </div>
    </div>

    <!-- Side-bar starts from here -->
    <div class="main-container">

        <div class="db-sidebar">
            <div class="sidebar-buttons_div">
                <div class="logo-div">
                    <img src="images/pulse-logo.png" alt="Pulse-logo">
                </div>
        
                <!-- Link to Home/Overview -->
                <a href="/overview" style="color: #00e004; margin-top: 50px;" class="sidebar-button">Overview</a>
        
                <!-- Link to Tehsil Level -->
                <a href="/tehsil" class="sidebar-button" style="color: #cecece;">Tehsil Level</a>
        
                <p class="pulse-text">
                    Punjab Urban Land Systems Enhancement (PULSE) modernizes land management in Punjab, Pakistan by digitizing land records, streamlining property registration, and improving transparency for better urban planning and governance.
                </p>
            </div>
        </div>

        <!-- Main body starts from here -->
        <div class="db-mainBody">
            <div class="welcome-div">
                <h2> <span>Welcome Muhammad!</span> here are summarized insights of project for you</h2>
            </div>


            <!-- District overview cards  -->

            <div class="overview_card-div">
                <div class="overview_card1 cards">
                    <div class="cards-text">
                        <h3>Total</h3>
                        <h4>2734</h4>
                    </div>
                    <div class="icon-div">
                        <i class="fa-solid fa-globe"></i>
                    </div>
                </div>
                <div class="overview_card2 cards">
                    <div class="cards-text">
                        <h3>Received</h3>
                        <h4>2319</h4>
                    </div>
                    <div class="icon-div">
                        <i class="fa-solid fa-globe"></i>
                    </div>
                </div>
                <div class="overview_card3 cards">
                    <div class="cards-text">
                        <h3>Georef Mouza</h3>
                        <h4 id="georefMouza">0</h4>
                    </div>
                    <div class="icon-div">
                        <i class="fa-solid fa-globe"></i>
                    </div>
                </div>
                <div class="overview_card4 cards">
                    <div class="cards-text">
                        <h3>Digitized Mouza</h3>
                        <h4 id="digitizedMouza">0</h4>
                    </div>
                    <div class="icon-div">
                        <i class="fa-solid fa-globe"></i>
                    </div>
                </div>
                <div class="overview_card5 cards">
                    <div class="cards-text">
                        <h3>Rejected</h3>
                        <h4 id="rejectedMouza">30</h4>
                    </div>
                    <div class="icon-div">
                        <i class="fa-solid fa-globe"></i>
                    </div>
                </div>
            </div>



            <!-- percentageBar-div starts from here -->

            <div class="percentageBar-div">
                <h3>Overall Completion Percentage</h3>
                <div class="percentageBar-line_div">
                    <div class="percentageBar_bg">
                        <div class="percentageBar_color"></div>
                    </div>
                    <p class="percentage-text"> 6.9% </p>
                </div>
                <p class="completed-para">Completed: 191 / 2734</p>
            </div>




            <!-- barCharts starts from here -->

            <div class="charts-div">


                <!-- District overview bar chart from R2V -->
                <div class="barChart1-div">
                    <h3>Progress From R2V</h3>
                    <canvas id="districtBarChart" style="width: 100%; height: 450px;"></canvas>
                </div>


                <!-- District overview barchart from PULSE  -->


                <div class="barChart2-div">
                    <h3>PULSE Approval</h3>
                    <div class="tabs">
                        <button class="tablinks" onclick="openTab(event, 'PULSEChecked')">PULSE Checked</button>
                        <button class="tablinks" onclick="openTab(event, 'PULSEApproved')">PULSE Approved</button>
                    </div>
                    <div id="PULSEChecked" class="tabcontent">
                        <canvas id="pulseCheckedBarChart" class="chartCanvas"></canvas>
                    </div>
                    <div id="PULSEApproved" class="tabcontent">
                        <canvas id="pulseApprovedBarChart" class="chartCanvas"></canvas>
                    </div>
                </div>


            </div>
        </div>

    </div>


    </div>





</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script src="fetchData.js" defer></script>

<script>
      // Pulse performance Tab functionality


      function openTab(evt, tabName) {
            let i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Set default open tab


        document.addEventListener('DOMContentLoaded', function () {
            document.getElementsByClassName("tablinks")[0].click();
        });


</script>

</html>
